<!-- Pagination -->
<div class="flex justify-center mt-8 space-x-2">
	<a href="?page=1"
		class="px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600">
		First
	</a>
	|
	{% if page_obj.has_previous %}
		<a href="?page={{ page_obj.previous_page_number }}"
			class="px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600">
			Prev
		</a>
	{% endif %}

	<!-- {% for num in page_obj.paginator.page_range %}
		{% if page_obj.number == num %}
			<span class="px-3 py-1 bg-blue-600 text-white rounded">{{ num }}</span>
		{% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %} 
			<a href="?page={{ num }}"
			class="px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600">
			{{ num }}
			</a>
		{% endif %}
	{% endfor %} -->
	{% for num in page_obj.paginator.page_range %}
		{% if num == 1 or num == page_obj.paginator.num_pages or (num >= page_obj.number|add:'-2' and num <= page_obj.number|add:'2') %}
			{% if page_obj.number == num %}
				<span class="px-3 py-1 bg-blue-600 text-white rounded">{{ num }}</span>
			{% else %}
				<a href="?page={{ num }}{% if request.session.num_per_page %}&num_per_page={{ request.session.num_per_page }}{% endif %}"
				class="px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600">
				{{ num }}
				</a>
			{% endif %}
		{% elif num == 2 and page_obj.number > 4 %}
			<span class="px-3 py-1">...</span><!-- ellipsis for skipped middle -->
		{% elif num == page_obj.paginator.num_pages|add:'-1' and page_obj.number < page_obj.paginator.num_pages|add:'-3' %}
			<span class="px-3 py-1">...</span><!-- ellipsis for skipped middle -->
		{% endif %}
	{% endfor %}


	{% if page_obj.has_next %}
		<a href="?page={{ page_obj.next_page_number }}"
			class="px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600">
			Next
		</a>
	{% endif %}
	|
	<a href="?page={{ page_obj.paginator.num_pages }}"
		class="px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600">
		Last
	</a>
	<!-- num records per page selector -->
	<!-- <div class="ml-4">
		<label for="num_per_page" class="text-gray-700 dark:text-gray-300">Records per page:</label>
		<select id="num_per_page" name="num_per_page"
			class="ml-2 px-2 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600"
			onchange="location.href='?page=1&num_per_page='+this.value;">
			<option value="5" {% if request.GET.num_per_page == '5' %}selected{% endif %}>5</option>
			<option value="10" {% if request.GET.num_per_page == '10' or not request.GET.num_per_page %}selected{% endif %}>10</option>
			<option value="20" {% if request.GET.num_per_page == '20' %}selected{% endif %}>20</option>
			<option value="50" {% if request.GET.num_per_page == '50' %}selected{% endif %}>50</option>
		</select>
	</div> -->
	<div class="ml-4">
		<label for="num_per_page" class="text-gray-700 dark:text-gray-300">Records per page:</label>
		<select id="num_per_page" name="num_per_page"
			class="ml-2 px-2 py-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 rounded hover:bg-gray-300 dark:hover:bg-gray-600"
			onchange="location.href='?page=1&num_per_page='+this.value;">
			
			<option value="5"  {% if request.session.num_per_page|stringformat:"s" == "5" %}selected{% endif %}>5</option>
			<option value="10" {% if request.session.num_per_page|stringformat:"s" == "10" or not request.session.num_per_page %}selected{% endif %}>10</option>
			<option value="20" {% if request.session.num_per_page|stringformat:"s" == "20" %}selected{% endif %}>20</option>
			<option value="50" {% if request.session.num_per_page|stringformat:"s" == "50" %}selected{% endif %}>50</option>
		</select>
	</div>


</div>